import{r as e,j as a}from"./ui-BCB258fP.js";import{u as r,I as t,L as s,O as l,B as c,H as i,C as d}from"./index-CeQtaJjl.js";import{a as n}from"./index-BUAJGlhN.js";import{S as o}from"./search-D6ha5TnO.js";import{C as m}from"./calendar-DwlI1Y8_.js";const x=({currentArticleId:i,onCategorySelect:d,selectedCategory:x})=>{const[g,h]=e.useState(""),b=r(),p=e.useRef(null),[u,y]=e.useState(null);e.useEffect((()=>{if(u){const e=()=>{window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0,p.current&&p.current.scrollIntoView({behavior:"auto",block:"start"})};e();const a=setTimeout(e,100);return()=>clearTimeout(a)}}),[u]);const j=i?n.filter((e=>e.id!==i)).slice(0,5):n.slice(0,5),f=Array.from(new Set(n.map((e=>e.category))));return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:p}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-5 mb-6",children:[a.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white",children:"Pencarian"}),a.jsxs("form",{onSubmit:e=>{e.preventDefault(),g.trim()&&b(`/articles?search=${encodeURIComponent(g.trim())}`)},className:"relative",children:[a.jsx(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:18}),a.jsx(t,{type:"text",placeholder:"Cari artikel...",className:"pl-10 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400",value:g,onChange:e=>h(e.target.value)})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-5 mb-6",children:[a.jsx("h3",{className:"text-lg font-bold mb-4 pb-2 border-b border-gray-200 dark:border-gray-700 text-gray-800 dark:text-white",children:"Artikel Populer"}),a.jsx("div",{className:"space-y-4",children:j.map((e=>{return a.jsx(s,{to:`/article/${e.slug}`,className:"block group",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"relative w-24 h-24 overflow-hidden rounded-lg flex-shrink-0 bg-gray-100 dark:bg-gray-700",children:a.jsx(l,{src:e.image,alt:e.title,className:"w-full h-full object-cover",quality:70})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 group-hover:text-coral dark:group-hover:text-coral-light transition-colors line-clamp-2 text-sm",children:e.title}),a.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mt-1",children:[a.jsx(m,{size:12,className:"mr-1"}),a.jsx("span",{children:(r=e.date,new Date(r).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}))})]})]})]})},e.id);var r}))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-5 mb-6",children:[a.jsx("h3",{className:"text-lg font-bold mb-4 pb-2 border-b border-gray-200 dark:border-gray-700 text-gray-800 dark:text-white",children:"Kategori"}),a.jsx("div",{className:"space-y-2",children:f.map((e=>a.jsx(c,{variant:x===e?"default":"outline",className:"w-full justify-start "+(x===e?"dark:bg-coral-dark dark:text-white dark:hover:bg-coral":"dark:border-gray-700 dark:text-gray-200 dark:hover:bg-gray-700"),onClick:()=>(e=>{y(e),d?d(e):b(`/articles?category=${encodeURIComponent(e)}`)})(e),children:e},e)))})]}),a.jsxs("div",{className:"bg-ocean dark:bg-ocean-dark text-white rounded-lg shadow-sm p-5 mb-6",children:[a.jsx("h3",{className:"text-lg font-bold mb-2",children:"Berlangganan Update"}),a.jsx("p",{className:"text-white/90 mb-4 text-sm",children:"Dapatkan artikel dan penawaran terbaru langsung ke email Anda."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(t,{type:"email",placeholder:"Email Anda",className:"bg-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400"}),a.jsx(c,{variant:"secondary",className:"w-full bg-coral hover:bg-coral-dark dark:bg-coral-light dark:hover:bg-coral",children:"Berlangganan"})]})]})]})},g=({items:e})=>{const r={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e.map(((e,a)=>({"@type":"ListItem",position:a+1,name:e.label,item:e.href?`https://villasawarna.com${e.href}`:void 0})))};return a.jsxs(a.Fragment,{children:[a.jsx("script",{type:"application/ld+json",children:JSON.stringify(r)}),a.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-6",children:[a.jsxs(s,{to:"/",className:"flex items-center hover:text-ocean",children:[a.jsx(i,{size:16,className:"mr-1"}),"Beranda"]}),e.map(((e,r)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx(d,{size:16,className:"mx-2"}),e.href?a.jsx(s,{to:e.href,className:"hover:text-ocean",children:e.label}):a.jsx("span",{className:"text-gray-700",children:e.label})]},r)))]})]})};export{x as A,g as B};
