import{r as e,j as s,P as a}from"./ui-BCB258fP.js";import{c as i,a as l,n as t,O as r,g as n,u as c,N as d,B as o,S as h,o as x,I as m}from"./index-CeQtaJjl.js";import{T as j}from"./textarea-GJ0R7KTL.js";import{C as u,R as g,S as p,a as v,b as y,c as f,d as k,e as N}from"./RichTextEditor-BoMgZEoZ.js";import{T as w,c as b,d as C,b as S}from"./tabs-oLOijc41.js";import{C as T,b as P,a as F,c as E}from"./card-BrY1ysWX.js";import{B as D}from"./badge-dPeL0rdS.js";import{S as O}from"./SEO-5e-vXuOd.js";import{F as z}from"./file-text-q6zJSZkZ.js";import{E as A}from"./eye-Cs_4_w19.js";import{I as M}from"./image-OSh2RjNU.js";import"./vendor-DPo8IFD3.js";import"./editor-Ce1E3Zfz.js";
/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=i("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var I="horizontal",K=["horizontal","vertical"],B=e.forwardRef(((e,i)=>{const{decorative:l,orientation:t=I,...r}=e,n=function(e){return K.includes(e)}(t)?t:I,c=l?{role:"none"}:{"aria-orientation":"vertical"===n?n:void 0,role:"separator"};return s.jsx(a.div,{"data-orientation":n,...c,...r,ref:i})}));B.displayName="Separator";var R=B;const G=e.forwardRef((({className:e,orientation:a="horizontal",decorative:i=!0,...t},r)=>s.jsx(R,{ref:r,decorative:i,orientation:a,className:l("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...t})));G.displayName=R.displayName;const J="villa_sawarna_articles",U=()=>{const e=localStorage.getItem(J);return e?JSON.parse(e):[]},L=e=>{localStorage.setItem(J,JSON.stringify(e))},V=({article:e})=>s.jsxs(T,{className:"w-full",children:[s.jsxs(P,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(D,{variant:"secondary",children:e.category}),s.jsx("span",{className:"text-sm text-gray-500",children:t(e.date)})]}),s.jsx("h2",{className:"text-2xl font-bold mt-2",children:e.title}),s.jsxs("p",{className:"text-gray-500",children:["Oleh: ",e.author]})]}),s.jsxs(F,{children:[s.jsx("div",{className:"aspect-video relative mb-4",children:s.jsx(r,{src:e.image,alt:e.title,className:"object-cover w-full h-full rounded-lg",quality:85})}),s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:e.excerpt}),s.jsx("div",{className:"whitespace-pre-wrap",children:e.content})]})]})]}),_=["Wisata","Budaya","Kuliner","Akomodasi","Event","Tips Perjalanan"],H=()=>{const{id:a}=n(),i=c(),[l,t]=e.useState(!1),[r,D]=e.useState({id:"",title:"",slug:"",excerpt:"",content:"",category:"",image:"",author:"",date:"",tags:[],isPublished:!1,seoTitle:"",seoDescription:"",featured:!1,allowComments:!0,socialShare:!0});e.useEffect((()=>{if(a){const e=async()=>{const e=await(async e=>U().find((s=>s.id===e))||null)(a);if(e){const s=e;D({...e,isPublished:void 0!==s.isPublished&&s.isPublished,seoTitle:void 0!==s.seoTitle?s.seoTitle:e.title,seoDescription:void 0!==s.seoDescription?s.seoDescription:e.excerpt,tags:e.tags||[],featured:void 0!==s.featured&&s.featured,allowComments:void 0===s.allowComments||s.allowComments,socialShare:void 0===s.socialShare||s.socialShare})}};e()}}),[a]);return s.jsxs(s.Fragment,{children:[s.jsx(O,{title:a?"Edit Artikel":"Artikel Baru",description:"Editor artikel Villa Sawarna"}),s.jsx(d,{}),s.jsx("div",{className:"container-custom py-12",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:a?"Edit Artikel":"Artikel Baru"}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(o,{variant:"outline",onClick:()=>i("/admin/articles"),children:"Batal"}),s.jsx(o,{onClick:async e=>{e.preventDefault(),t(!0);const s={id:r.id,title:r.title,slug:r.slug,excerpt:r.excerpt,content:r.content,category:r.category,image:r.image,author:r.author,date:r.date,tags:r.tags};try{a?await(async(e,s)=>{const a=U(),i=a.findIndex((s=>s.id===e));if(-1===i)return null;const l={...a[i],...s};return a[i]=l,L(a),l})(a,s):await(async e=>{const s=U(),a={...e,id:`article-${Date.now()}`,date:(new Date).toISOString().split("T")[0]};return s.push(a),L(s),a})(s),i("/admin/articles")}catch(l){}finally{t(!1)}},disabled:l,children:l?"Menyimpan...":"Simpan"})]})]}),s.jsxs(w,{defaultValue:"edit",className:"space-y-6",children:[s.jsxs(b,{className:"grid grid-cols-6 gap-4",children:[s.jsxs(C,{value:"edit",className:"flex items-center gap-2",children:[s.jsx(z,{size:16}),"Edit"]}),s.jsxs(C,{value:"code",className:"flex items-center gap-2",children:[s.jsx(u,{size:16}),"Kode"]}),s.jsxs(C,{value:"preview",className:"flex items-center gap-2",children:[s.jsx(A,{size:16}),"Preview"]}),s.jsxs(C,{value:"seo",className:"flex items-center gap-2",children:[s.jsx(q,{size:16}),"SEO"]}),s.jsxs(C,{value:"media",className:"flex items-center gap-2",children:[s.jsx(M,{size:16}),"Media"]}),s.jsxs(C,{value:"settings",className:"flex items-center gap-2",children:[s.jsx(h,{size:16}),"Pengaturan"]})]}),s.jsx(S,{value:"edit",children:s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsx("div",{className:"col-span-2 space-y-6",children:s.jsxs(T,{children:[s.jsx(P,{children:s.jsx(E,{children:"Konten Artikel"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"title",children:"Judul Artikel"}),s.jsx(m,{id:"title",value:r.title,onChange:e=>D({...r,title:e.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"excerpt",children:"Ringkasan"}),s.jsx(j,{id:"excerpt",value:r.excerpt,onChange:e=>D({...r,excerpt:e.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"content",children:"Konten"}),s.jsx(g,{content:r.content,onChange:e=>D({...r,content:e})})]})]})]})}),s.jsx("div",{className:"col-span-1 space-y-6",children:s.jsxs(T,{children:[s.jsx(P,{children:s.jsx(E,{children:"Informasi Dasar"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"category",children:"Kategori"}),s.jsxs(p,{value:r.category,onValueChange:e=>D({...r,category:e}),children:[s.jsx(v,{children:s.jsx(y,{placeholder:"Pilih kategori"})}),s.jsx(f,{children:_.map((e=>s.jsx(k,{value:e,children:e},e)))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"author",children:"Penulis"}),s.jsx(m,{id:"author",value:r.author,onChange:e=>D({...r,author:e.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"date",children:"Tanggal"}),s.jsx(m,{id:"date",type:"date",value:r.date,onChange:e=>D({...r,date:e.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"tags",children:"Tag"}),s.jsx(m,{id:"tags",value:r.tags.join(", "),onChange:e=>D({...r,tags:e.target.value.split(",").map((e=>e.trim()))}),placeholder:"Pisahkan tag dengan koma"})]})]})]})})]})}),s.jsx(S,{value:"code",children:s.jsxs(T,{children:[s.jsx(P,{children:s.jsx(E,{children:"Edit Kode"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"contentCode",children:"Konten (Markdown/HTML)"}),s.jsx(j,{id:"contentCode",value:r.content,onChange:e=>D({...r,content:e.target.value}),className:"min-h-[500px] font-mono text-sm",placeholder:"Tulis konten dalam format Markdown atau HTML..."})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsx("p",{children:"Tips:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Gunakan # untuk heading (contoh: # Judul Utama)"}),s.jsx("li",{children:"Gunakan ** untuk teks tebal (contoh: **teks tebal**)"}),s.jsx("li",{children:"Gunakan * untuk teks miring (contoh: *teks miring*)"}),s.jsx("li",{children:"Gunakan - untuk list (contoh: - item list)"}),s.jsx("li",{children:"Gunakan ``` untuk blok kode"})]})]})]})]})}),s.jsx(S,{value:"preview",children:s.jsx(V,{article:{...r,id:"preview"}})}),s.jsx(S,{value:"seo",children:s.jsxs(T,{children:[s.jsx(P,{children:s.jsx(E,{children:"Pengaturan SEO"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"seoTitle",children:"Judul SEO"}),s.jsx(m,{id:"seoTitle",value:r.seoTitle,onChange:e=>D({...r,seoTitle:e.target.value}),placeholder:"Masukkan judul untuk SEO"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"seoDescription",children:"Deskripsi SEO"}),s.jsx(j,{id:"seoDescription",value:r.seoDescription,onChange:e=>D({...r,seoDescription:e.target.value}),placeholder:"Masukkan deskripsi singkat untuk SEO",rows:3})]})]})]})}),s.jsx(S,{value:"media",children:s.jsxs(T,{children:[s.jsx(P,{children:s.jsx(E,{children:"Media"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"image",children:"URL Gambar Utama"}),s.jsx(m,{id:"image",type:"url",value:r.image,onChange:e=>D({...r,image:e.target.value}),required:!0})]}),s.jsx("div",{className:"aspect-video relative bg-gray-100 rounded-lg overflow-hidden",children:r.image?s.jsx("img",{src:r.image,alt:"Preview",className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(M,{className:"w-12 h-12 text-gray-400"})})})]})]})}),s.jsx(S,{value:"settings",children:s.jsxs(T,{children:[s.jsx(P,{children:s.jsx(E,{children:"Pengaturan Artikel"})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(x,{htmlFor:"isPublished",children:"Status Publikasi"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Artikel akan muncul di halaman publik"})]}),s.jsx(N,{id:"isPublished",checked:r.isPublished,onCheckedChange:e=>D({...r,isPublished:e})})]}),s.jsx(G,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(x,{htmlFor:"featured",children:"Artikel Unggulan"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Tampilkan di bagian unggulan"})]}),s.jsx(N,{id:"featured",checked:r.featured,onCheckedChange:e=>D({...r,featured:e})})]}),s.jsx(G,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(x,{htmlFor:"allowComments",children:"Izinkan Komentar"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Pengunjung dapat memberikan komentar"})]}),s.jsx(N,{id:"allowComments",checked:r.allowComments,onCheckedChange:e=>D({...r,allowComments:e})})]}),s.jsx(G,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(x,{htmlFor:"socialShare",children:"Bagikan ke Media Sosial"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Tampilkan tombol berbagi"})]}),s.jsx(N,{id:"socialShare",checked:r.socialShare,onCheckedChange:e=>D({...r,socialShare:e})})]})]})]})})]})]})})]})};export{H as default};
